

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Governance Model &mdash; Jenkins Templating Engine  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/style.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/banner.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Conditional Inheritance Examples" href="conditional_inheritance.html" />
    <link rel="prev" title="Stages" href="../Templating/primitives/stages.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Jenkins Templating Engine
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Templating/index.html">Pipeline Templating</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Templating/configuration_files/index.html">Configuration Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Templating/configuration_files/default_step_implementation.html">Default Step Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Templating/configuration_files/sandboxing.html">Sandboxing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Templating/primitives/index.html">Primitives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Templating/primitives/application_environments.html">Application Environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Templating/primitives/keywords.html">Keywords</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Templating/primitives/stages.html">Stages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Governance Model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="conditional_inheritance.html">Conditional Inheritance Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Library_Development/index.html">Library Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Library_Development/externalizing_config.html">Externalizing Library Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Library_Development/library_sources.html">Library Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Library_Development/lifecycle_hooks.html">Leverage Lifecycle Hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Library_Development/noncall_methods.html">Defining Non-Call Methods in Library Steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Library_Development/validate_library_parameters.html">Validate Library Parameters</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Jenkins Templating Engine</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Governance Model</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/pages/Governance/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  





<div class="section" id="governance-model">
<span id="id1"></span><h1>Governance Model<a class="headerlink" href="#governance-model" title="Permalink to this headline">¶</a></h1>
<p>One of the challenges associated with having a Jenkinsfile in every application
source code repository is having governance within an organization over how software
gets developed.</p>
<p>Each team may be doing something slightly differently and developers have access to
bypass any required security gates by manipulating the Jenkinsfile.</p>
<p>With the Jenkins Templating Engine, you’re able to have a much clearer picture of
the software delivery processes within an organization by consolidating your pipeline
into a set of reusable templates managed within one or multiple pipeline configuration
repositories.</p>
<p>With JTE, you can configure a governance structure matching your organization’s
hierarchy through Governance Tiers.</p>
<div class="section" id="governance-tier">
<h2>Governance Tier<a class="headerlink" href="#governance-tier" title="Permalink to this headline">¶</a></h2>
<p>Templates define the business logic of the pipeline and a configuration file is used
to implement the functionality of the template.</p>
<p>If you would like to leverage the templating capabilities of JTE without sharing workflows
between applications, you can place a <code class="docutils literal"><span class="pre">Jenkinsfile</span></code> template at the root of your application’s
source code repository alongside the <code class="docutils literal"><span class="pre">pipeline_config.groovy</span></code> configuration file.</p>
<p>If you would like to consolidate templates or common configurations, you can put organizational
templates and common configurations into a <strong>Governance Tier</strong>.</p>
<a class="reference internal image-reference" href="../../_images/jte_governance_tier.png"><img alt="../../_images/jte_governance_tier.png" class="align-center" src="../../_images/jte_governance_tier.png" style="width: 543.5px; height: 200.0px;" /></a>
<p>Governance Tiers consist of <a class="reference internal" href="../Templating/configuration_files/index.html#configuration-files"><span class="std std-ref">Configuration Files</span></a>, <a class="reference internal" href="../Library_Development/library_sources.html#pipeline-libraries"><span class="std std-ref">Library Sources</span></a>,
and <a class="reference internal" href="../Templating/index.html#pipeline-templating"><span class="std std-ref">Pipeline Templates</span></a>.</p>
<div class="section" id="hierarchical-governance">
<h3>Hierarchical Governance<a class="headerlink" href="#hierarchical-governance" title="Permalink to this headline">¶</a></h3>
<p>In large organizations, there may be company wide software delivery configurations with departmental profiles
for tools being used or the specific standards required and so on all the way down to specific application configurations
such as a URL to test against, etc, until your governance hierarchy starts to look something like:</p>
<a class="reference internal image-reference" href="../../_images/hierarchy.png"><img alt="../../_images/hierarchy.png" class="align-center" src="../../_images/hierarchy.png" style="width: 288.5px; height: 297.5px;" /></a>
<p>A Jenkins wide Governance Tier can be configured in <code class="docutils literal"><span class="pre">Manage</span> <span class="pre">Jenkins</span> <span class="pre">&gt;</span> <span class="pre">Configure</span> <span class="pre">System</span></code> under the <code class="docutils literal"><span class="pre">Jenkins</span> <span class="pre">Templating</span> <span class="pre">Engine</span></code>
section header.  This Governance Tier will apply to all jobs in Jenkins.</p>
<img alt="../../_images/configure_system_validation.png" src="../../_images/configure_system_validation.png" />
<p>A Governance Tier can then be configured on any folder within Jenkins, including multibranch jobs or GitHub Organization Jobs.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">You can create a governance hierarchy in JTE matching your organizational hierarchy by organizing your jobs
accordingly within Jenkins and configuring a Governance Tier globally and on the corresponding Folders within
Jenkins.</p>
</div>
</div>
</div>
<div class="section" id="configuration-file-inheritance">
<h2>Configuration File Inheritance<a class="headerlink" href="#configuration-file-inheritance" title="Permalink to this headline">¶</a></h2>
<p>When creating Governance Tiers to define your governance hierarchy, you can create configuration files to
consolidate common configurations while tuning which aspects can be modified or overwritten by suborganizations
in the hierarchy.</p>
<p>JTE provides some <a class="reference external" href="https://raw.githubusercontent.com/boozallen/jenkins-templating-engine/master/src/main/resources/org/boozallen/plugins/jte/config/pipeline_config.groovy">common configurations</a>
by default.  The first configuration file found in the hierarchy will automatically override keys in common between
the default configuration and the configuration file being loaded.</p>
<p>After the first configuration file, each subsequent file will only be able to <strong>add new root configuration keys</strong> and
any configuration that overlaps with the existing configuration will be ignored <strong>unless</strong> the parent configuration
has explicitly allowed a configuration block to be modified via the <code class="docutils literal"><span class="pre">merge</span></code> and <code class="docutils literal"><span class="pre">override</span></code> keys.</p>
<p>Setting <code class="docutils literal"><span class="pre">merge</span> <span class="pre">=</span> <span class="pre">true</span></code> in a configuration block will allow the next configuration file in the hierarchy to append
configuration keys to the block.</p>
<p>Setting <code class="docutils literal"><span class="pre">override</span> <span class="pre">=</span> <span class="pre">true</span></code> in a configuration block will allow the next configuration file to replace the existing
configuration block.</p>
<p>You can see some examples of these keywords in action <a class="reference internal" href="conditional_inheritance.html#conditional-inheritance-examples"><span class="std std-ref">here</span></a>.</p>
<p>Each configuration file in the Governance Tier hierarchy will be combined according to these rules until there
is a resultant aggregated pipeline configuration. It is this aggregated pipeline configuration that gets used
to populate the selected pipeline template for execution.</p>
</div>
<div class="section" id="pipeline-template-selection">
<h2>Pipeline Template Selection<a class="headerlink" href="#pipeline-template-selection" title="Permalink to this headline">¶</a></h2>
<p>Pipeline Templates can either come from the application’s source code repository, from the default
template in a governance tier, or from a named template in a governance tier.</p>
<div class="section" id="application-source-code-repository">
<h3>1. Application Source Code Repository<a class="headerlink" href="#application-source-code-repository" title="Permalink to this headline">¶</a></h3>
<p>By default, if there is a Jenkinsfile within the application’s source code repository it will be used
as the pipeline template.</p>
<p>Governance Tier’s can choose to disable this flexibility to enforce the use of consolidated templates by
setting <code class="docutils literal"><span class="pre">allow_scm_jenkinsfile</span> <span class="pre">=</span> <span class="pre">false</span></code> at the root of their configuration file.</p>
</div>
<div class="section" id="named-pipeline-template">
<h3>2. Named Pipeline Template<a class="headerlink" href="#named-pipeline-template" title="Permalink to this headline">¶</a></h3>
<p>Within a Governance Tier, you can create a <code class="docutils literal"><span class="pre">pipeline_templates</span></code> directory alongside the <code class="docutils literal"><span class="pre">pipeline_config.groovy</span></code>
configuration file. Within this directory you can have as many different templates as you’d like and they will be
referenceable via their filename from the configuration file.</p>
<p>To select a named pipeline template, you can specify <code class="docutils literal"><span class="pre">pipeline_template</span> <span class="pre">=</span> <span class="pre">&lt;template</span> <span class="pre">name&gt;</span></code> at the root
of your configuration file.</p>
<p>If a named pipeline template is specified, JTE will recursively search the <code class="docutils literal"><span class="pre">pipeline_templates</span></code> directories
of each Governance Tier going up the hierarchy from most specific all the way to the Global Governance Tier
defined in <code class="docutils literal"><span class="pre">Manage</span> <span class="pre">Jenkins</span> <span class="pre">&gt;</span> <span class="pre">Configure</span> <span class="pre">System</span></code>.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">If a named pipeline template is specified and the template is not found in any Governance Tier, JTE
will throw a Template Not Found Exception and fail the build.</p>
</div>
</div>
<div class="section" id="default-pipeline-template">
<h3>3. Default Pipeline Template<a class="headerlink" href="#default-pipeline-template" title="Permalink to this headline">¶</a></h3>
<p>If there is not an application repository <code class="docutils literal"><span class="pre">Jenkinsfile</span></code> or one is not permitted, and a named pipeline template
has not been specified, JTE will look for the first Governance Tier Default Pipeline Template in ascending order.</p>
<p>To create a Default Pipeline Template, simply create a <code class="docutils literal"><span class="pre">Jenkinsfile</span></code> alongside the <code class="docutils literal"><span class="pre">pipeline_config.groovy</span></code>
configuration file in the Governance Tier.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">If no Default Pipeline Template can be found, then no pipeline template has been defined and JTE
will fail the build.</p>
</div>
</div>
</div>
<div class="section" id="library-selection">
<h2>Library Selection<a class="headerlink" href="#library-selection" title="Permalink to this headline">¶</a></h2>
<p>Each Governance Tier can have a list of Library Sources defined, with each Library Source containing 1 or
more JTE pipeline libraries.</p>
<p>When a library is specified in a configuration file, JTE will start with the most specific Governance Tier
and search each Library Source from first to last looking for the library.  If none of the Library Sources
in the first Governance Tier has the library, JTE will then look in the parent Governance Tier.  This pattern
is followed until all Library Sources have been inspected for the library.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">If a library is specified and not present in any of the Governance Tier’s Library Sources, JTE will throw
a Library Not Found Exception and fail the build.</p>
</div>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="conditional_inheritance.html">Conditional Inheritance Examples</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="conditional_inheritance.html" class="btn btn-neutral float-right" title="Conditional Inheritance Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../Templating/primitives/stages.html" class="btn btn-neutral" title="Stages" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Booz Allen Hamilton.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: master
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../../1.0.0/pages/Governance/index.html">1.0.0</a></dd>
            <dd><a href="../../1.1/pages/Governance/index.html">1.1</a></dd>
            <dd><a href="../../1.1.1/pages/Governance/index.html">1.1.1</a></dd>
            <dd><a href="../../v0.1-alpha/pages/Governance/index.html">v0.1-alpha</a></dd>
            <dd><a href="../../v1.2/pages/Governance/index.html">v1.2</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../master/pages/Governance/index.html">master</a></dd>
        </dl>
    </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>